<div class="container">

    <mat-icon [ngStyle]="{transform: openCloseComponent ? 'rotate(180deg)' : 'none'}" class="arrow">keyboard_arrow_down</mat-icon>

    <p class="header" (click)="openCloseComponent = !openCloseComponent">Об исполнителе</p>

    <div class="open-close-component" *ngIf="openCloseComponent">
        <div class="description">
            <div class="description-elem">
                <div class="param">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 9V7C19 6.46957 18.7893 5.96086 18.4142 5.58579C18.0391 5.21071 17.5304 5 17 5H16V2H14V5H13C12.4696 5 11.9609 5.21071 11.5858 5.58579C11.2107 5.96086 11 6.46957 11 7V9C10.4696 9 9.96086 9.21071 9.58579 9.58579C9.21071 9.96086 9 10.4696 9 11V12H5C4.46957 12 3.96086 12.2107 3.58579 12.5858C3.21071 12.9609 3 13.4696 3 14V22H6V20H8V22H12V20H14V22H16V20H18V22H21V11C21 10.4696 20.7893 9.96086 20.4142 9.58579C20.0391 9.21071 19.5304 9 19 9ZM8 18H6V16H8V18ZM14 18H12V16H14V18ZM14 14H12V12H14V14ZM13 9V7H17V9H13ZM18 18H16V16H18V18ZM18 14H16V12H18V14Z" fill="#8594A8"/>
                    </svg>
                    <p>Район выезда</p>
                </div>
    
                <p class="field">{{ card.getDepartureLocality() }}</p>
            </div>
    
            <hr>
            
            <div class="description-elem">
                <div class="param">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.6762 4.85759L15.5147 4.85732L12.0825 11.5637L8.5268 4.80005L3.65851 17.0187H2.40039V18H9.29284V17.0187H7.92524L9.29284 13.2L12.0825 18L14.7629 13.2L16.1303 17.0187H14.7629V18H21.6004V17.0187H20.4159L15.6762 4.85759Z" fill="#90A0B7"/>
                    </svg>
                    <p>Метро</p>
                </div>
    
                <p class="field">{{ card.location.metro.join(', ') }}</p>
            </div>
    
            <hr>
            
            <div class="description-elem">
                <div class="param">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4C13.0609 4 14.0783 4.42143 14.8284 5.17157C15.5786 5.92172 16 6.93913 16 8C16 9.06087 15.5786 10.0783 14.8284 10.8284C14.0783 11.5786 13.0609 12 12 12C10.9391 12 9.92172 11.5786 9.17157 10.8284C8.42143 10.0783 8 9.06087 8 8C8 6.93913 8.42143 5.92172 9.17157 5.17157C9.92172 4.42143 10.9391 4 12 4ZM12 14C16.42 14 20 15.79 20 18V20H4V18C4 15.79 7.58 14 12 14Z" fill="#90A0B7"/>
                    </svg>
                    <p>Контактное лицо</p>
                </div>
    
                <p class="field">{{ card.getContactPerson().fullname }}</p>
            </div>
    
            <hr>
            
            <div class="description-elem">
                <div class="param">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6.62 10.79C8.06 13.62 10.38 15.94 13.21 17.38L15.41 15.18C15.69 14.9 16.08 14.82 16.43 14.93C17.55 15.3 18.75 15.5 20 15.5C20.2652 15.5 20.5196 15.6054 20.7071 15.7929C20.8946 15.9804 21 16.2348 21 16.5V20C21 20.2652 20.8946 20.5196 20.7071 20.7071C20.5196 20.8946 20.2652 21 20 21C15.4913 21 11.1673 19.2089 7.97918 16.0208C4.79107 12.8327 3 8.50868 3 4C3 3.73478 3.10536 3.48043 3.29289 3.29289C3.48043 3.10536 3.73478 3 4 3H7.5C7.76522 3 8.01957 3.10536 8.20711 3.29289C8.39464 3.48043 8.5 3.73478 8.5 4C8.5 5.25 8.7 6.45 9.07 7.57C9.18 7.92 9.1 8.31 8.82 8.59L6.62 10.79Z" fill="#90A0B7"/>
                    </svg>
                    <p>Телефон</p>
                </div>
    
                <p class="field">{{ card.getContactPerson().phone }}</p>
            </div>
    
            <hr>
            
            <div class="description-elem">
                <div class="param">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 8L12 13L4 8V6L12 11L20 6V8ZM20 4H4C2.89 4 2 4.89 2 6V18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20H20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V6C22 4.89 21.1 4 20 4Z" fill="#90A0B7"/>
                    </svg>
                    <p>E-mail</p>
                </div>
    
                <p class="field">{{ card.getContactPerson().email }}</p>
            </div>
        </div>

        <ng-container *ngIf='card.description.fullInfo'>
            <p class="additional-info">{{ card.description.fullInfo }}</p>
            <p class="additional-info-mobile">
                <span *ngIf='!showFullInfo; else hide'>{{ card.getShortInfo() }}</span>            
            </p>
            <p class="show-full-additional-info" (click)="showFullInfo = !showFullInfo">
                <span>{{linkFullInfo()}}</span>
            </p>
        </ng-container>
        <ng-template #hide>
            <span *ngIf='showFullInfo'>{{ card.description.fullInfo }}</span>
        </ng-template>

        <div class="tags">
            <div class="tag">
                <mat-icon>supervised_user_circle</mat-icon>
                <p>Юридическое лицо</p>
            </div>
    
            <div class="tag" *ngIf='card.description.contract'>
                <mat-icon>article</mat-icon>
                <p>Работает по договору</p>
            </div>
    
            <div class="tag">
                <mat-icon>verified</mat-icon>
                <p>Проверенный исполнитель</p>
            </div>
        </div>
    </div>

</div>