<ng-container *ngIf='!isMobile; else mobile'>
    <div class="performers-card">        
        <div class="gallery">
            <div class="big-image" [@bigSlider]="sliderState">
                <ng-container *ngFor='let image of card.gallery'>
                    <img [src]="image">
                </ng-container>
            </div>

            <div class="small-images" [@smallSlider]="sliderState">
                <ng-container *ngFor='let image of card.gallery ; let i = index'>
                    <img [src]="image" (click)='changeSlide(i)'>
                </ng-container>
            </div>

            <div class="arrow-block left" (click)="prev()">
                <div class="arrow arrow-left">
                    <mat-icon>keyboard_arrow_left</mat-icon>
                </div>
            </div>
            <div class="arrow-block right" (click)="next()">
                <div class="arrow arrow-right">
                    <mat-icon>keyboard_arrow_right</mat-icon>
                </div>
            </div>
        </div>

        <div class="logo-description-statistics-block">
            <div class="logo">
                <img [src]="card.logo">
            </div>

            <div class="description">
                <p class="description-header" (click)="goToCard(card.id)">{{ card.description.title }}</p>

                <app-rating-stars [stars]='+card.stars'></app-rating-stars>

                <div class="description-discount">{{ card.description.discount }}</div>

                <div class="description-service-class">
                    <div *ngFor="let service of card.serviceList">
                        <p [style]="{color: getColor(service)}">{{ service }}</p>
                    </div>
                </div>

                <div class="description-elem location">
                    <img src='/assets/images/performers/marker.png'>      
                    <p (click)="scroll()">{{ card.getLocation() }}</p>
                </div>

                <div class="description-elem">
                    <img src='/assets/images/performers/metro.png'>        
                    <p>{{ card.location.metro.join(', ') }}</p>
                </div>

                <div class="description-elem">
                    <img src='/assets/images/performers/category.png'>
                    <p>{{ ownServices.join(', ') }}</p>
                </div>

                <div class="description-elem" *ngIf='card.description.contract'>
                    <img src='/assets/images/performers/text-box.png'>
                    <p>Работает по договору</p>
                </div>

                <div class="description-elem">
                    <img src='/assets/images/performers/account.png'>        
                    <p>{{ getlegalStatus() }}</p>
                </div>

                <div class="description-info">
                    <img src='/assets/images/performers/info.png'>        
                    <p>{{ card.description.info }}</p>
                </div>
            </div>

            <div class="statistics">
                <div class="statistic">
                    <p>Выполнено заказов</p>
                    <p class="value">{{ card.getCompletedOrders().length }}</p>
                </div>

                <hr>

                <div class="statistic">
                    <p>Цены</p>
                    <p class="value">от 1501р</p>
                </div>

                <hr>

                <div class="statistic">
                    <p>Оценки</p>

                    <div class="likes-and-dislikes">
                        <div class='like'>
                            <mat-icon>thumb_up</mat-icon>
                            <p class="value">{{ card.likes }}</p>
                        </div>
                        <div class="dislikes">
                            <mat-icon>thumb_down</mat-icon>
                            <p class="value">{{ card.dislikes }}</p>
                        </div>
                    </div>
                </div>

                <hr>

                <div class="statistic">
                    <p>Заказов в работе</p>
                    <p class="value">{{ card.getInProgressOrders().length }}</p>
                </div>


                <div class="buttons">
                    <button class="write-message">                                
                        <mat-icon>email</mat-icon>
                        Написать
                    </button>
                    <button class="add-to-favorites" (click)="isFavorite = !isFavorite">
                        <img [src]="!isFavorite ? '/assets/images/performers/bookmark-disabled.png' : '/assets/images/performers/bookmark-enabled.png'">                                
                    </button>
                </div>

                <p class="online">Был в сети два дня назад</p>
            </div>
        </div>
    </div>
</ng-container>

<ng-template #mobile>
    <div class='mobile'>
        <div class="logo">
            <img [src]="card.logo">
        </div>
        <div class='description'>
            <div class='topline'>
                <p class="title" (click)="goToCard(card.id)">{{card.description.title}}</p>
                <button class="add-to-favorites" (click)="isFavorite = !isFavorite">
                    <img [src]="!isFavorite ? '/assets/images/performers/bookmark-disabled.png' : '/assets/images/performers/bookmark-enabled.png'">                                
                </button>
            </div>
            <div class='middleline'>
                <app-rating-stars [stars]='+card.stars'></app-rating-stars>
                <div class="discount" *ngIf='card.description.discount === "yes"'>-15%</div>
            </div>
            <div class='bottomline'>
                <div *ngFor="let service of card.serviceList">
                    <p [style]="{color: getColor(service)}">{{ service }}</p>
                </div>
            </div>
        </div>
    </div>
</ng-template>